---
import type { CollectionEntry } from 'astro:content';
import GridCard from './GridCard.astro';

interface Props {
  posts: CollectionEntry<'posts'>[];
  class?: string;
}

const { posts, class: className } = Astro.props;
---

<div class:list={['post-grid', className]} data-layout="grid">
  {posts.map((post) => (
    <GridCard post={post} />
  ))}
</div>

<style>
  .post-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));
    gap: var(--space-lg);
  }

  .post-grid[hidden] {
    display: none;
  }
</style>
